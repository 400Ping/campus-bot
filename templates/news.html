
{% extends "base.html" %}
{% block content %}
<h2>新聞關鍵字</h2>
<form method="post" action="{{ url_for('web_news_add') }}">
  <input type="hidden" name="user" value="{{ user_id }}">
  <label>新增關鍵字</label>
  <input name="kw" type="text" placeholder="例如：元智大學、選課、停課">
  <button type="submit">新增</button>
</form>

{% if keywords %}
<h3>已訂閱</h3>
<ul>
  {% for k in keywords %}
    <li>
      {{ k }}
      <form method="post" action="{{ url_for('web_news_remove') }}" style="display:inline">
        <input type="hidden" name="user" value="{{ user_id }}">
        <input type="hidden" name="kw" value="{{ k }}">
        <button class="btn btn-danger">移除</button>
      </form>
    </li>
  {% endfor %}
</ul>
{% else %}
<p>尚無關鍵字。</p>
{% endif %}

<hr>
<h2>自訂 RSS 來源（留空則使用預設 NEWS_FEEDS）</h2>
<form method="post" action="{{ url_for('web_feed_add') }}">
  <input type="hidden" name="user" value="{{ user_id }}">
  <label>新增 RSS 連結</label>
  <input name="feed_url" type="url" placeholder="https://example.com/rss.xml" required>
  <button type="submit">新增 RSS</button>
</form>

{% if feeds %}
<h3>已加入的 RSS</h3>
<ul>
  {% for f in feeds %}
    <li>
      {{ f }}
      <form method="post" action="{{ url_for('web_feed_remove') }}" style="display:inline">
        <input type="hidden" name="user" value="{{ user_id }}">
        <input type="hidden" name="feed_url" value="{{ f }}">
        <button class="btn btn-danger">移除</button>
      </form>
    </li>
  {% endfor %}
</ul>
{% else %}
<p>尚無自訂 RSS，將使用系統預設來源。</p>
{% endif %}
{% endblock %}
